<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Esconde-Esconde Infantil ‚Äî Maria & Jos√©</title>

  <!-- Ajustes para iPhone / PWA -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Esconde-Esconde">
  <meta name="theme-color" content="#ff4081">

  <!-- √çcones para iOS -->
  <link rel="apple-touch-icon" sizes="180x180" href="icon-180.png">

  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; height: 100%; width: 100%; }
    body {
      font-family: 'Comic Sans MS', 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #b3e5fc, #f8bbd0);
      display: flex;
      justify-content: center;
      align-items: center;
      -webkit-user-select: none;
      -webkit-touch-callout: none;
      user-select: none;
      overflow: hidden;
    }

    .game {
      background: #fff;
      width: 100%;
      max-width: 500px;
      height: 95vh;
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      padding: 15px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
    }

    h1 { text-align: center; color: #ff4081; margin: 5px 0 10px; font-size: 28px; }

    .info { display: flex; justify-content: space-around; width: 100%; font-size: 18px; margin-bottom: 10px; }
    .status { text-align: center; font-size: 18px; margin-bottom: 10px; color: #333; }

    .characters { display: flex; justify-content: center; gap: 40px; margin-bottom: 10px; }
    .char { font-size: 64px; transition: transform 0.4s ease; }
    .char.hide { transform: scale(0.7) rotate(-10deg); }
    .char.seek { transform: scale(1.1); }

    .house { display: grid; grid-template-columns: repeat(2, 1fr); grid-gap: 10px; width: 100%; flex-grow: 1; }
    .room {
      flex: 1;
      min-height: 60px;
      border-radius: 18px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
      transition: transform 0.2s ease, opacity 0.2s ease;
      animation: pop 0.4s ease;
    }
    @keyframes pop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .room:hover { transform: scale(1.05); }
    .room.disabled { pointer-events: none; opacity: 0.5; }

    .living { background: #ff7043; }
    .kitchen { background: #42a5f5; }
    .bedroom { background: #66bb6a; }
    .bathroom { background: #ab47bc; }
    .garage { background: #ffa726; }
    .office { background: #26c6da; }
    .backyard { background: #8d6e63; }
    .laundry { background: #ec407a; }

    .controls { margin-top: 10px; display: flex; justify-content: center; width: 100%; }
    button { padding: 12px 20px; border: none; border-radius: 16px; font-size: 16px; cursor: pointer; background: #ff4081; color: #fff; }

  </style>
</head>
<body>
  <div class="game">
    <h1>üéà Esconde-Esconde üéà</h1>

    <div class="info">
      <div>Pontos ‚≠ê <span id="score">0</span></div>
      <div>Tentativas ‚ù§Ô∏è <span id="tries">5</span></div>
    </div>

    <div class="characters">
      <div id="maria" class="char">üëß</div>
      <div id="jose" class="char">üë¶</div>
    </div>

    <div class="status" id="status">Vamos brincar!</div>

    <div class="house" id="house">
      <div class="room living">Sala</div>
      <div class="room kitchen">Cozinha</div>
      <div class="room bedroom">Quarto</div>
      <div class="room bathroom">Banheiro</div>
      <div class="room garage">Garagem</div>
      <div class="room office">Escrit√≥rio</div>
      <div class="room backyard">Quintal</div>
      <div class="room laundry">Lavanderia</div>
    </div>

    <div class="controls">
      <button id="restart">üîÑ Novo Jogo</button>
    </div>
  </div>

  <audio id="hit" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="miss" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

  <script>
    const rooms = document.querySelectorAll('.room');
    const status = document.getElementById('status');
    const scoreEl = document.getElementById('score');
    const triesEl = document.getElementById('tries');
    const restartBtn = document.getElementById('restart');
    const maria = document.getElementById('maria');
    const jose = document.getElementById('jose');
    const hitSound = document.getElementById('hit');
    const missSound = document.getElementById('miss');

    let hiddenRoomIndex;
    let tries;
    let score = 0;
    let hider;

    function startRound() {
      hiddenRoomIndex = Math.floor(Math.random() * rooms.length);
      tries = 5;
      triesEl.textContent = tries;

      hider = Math.random() > 0.5 ? 'Maria' : 'Jos√©';

      maria.classList.remove('hide', 'seek');
      jose.classList.remove('hide', 'seek');

      if (hider === 'Maria') {
        maria.classList.add('hide');
        jose.classList.add('seek');
        status.textContent = 'üë¶ Jos√© est√° procurando Maria!';
      } else {
        jose.classList.add('hide');
        maria.classList.add('seek');
        status.textContent = 'üëß Maria est√° procurando Jos√©!';
      }

      rooms.forEach((room, i) => {
        room.classList.remove('disabled');
        const names = ['Sala','Cozinha','Quarto','Banheiro','Garagem','Escrit√≥rio','Quintal','Lavanderia'];
        room.textContent = names[i];
      });
    }

    rooms.forEach((room, index) => {
      room.addEventListener('click', () => {
        if (room.classList.contains('disabled')) return;

        if (index === hiddenRoomIndex) {
          room.textContent = 'üéâ Achou!';
          hitSound.play();
          score++;
          scoreEl.textContent = score;
          status.textContent = `Parab√©ns! ${hider} foi encontrado(a)! ‚≠ê`;
          rooms.forEach(r => r.classList.add('disabled'));
        } else {
          room.textContent = '‚ùå';
          missSound.play();
          room.classList.add('disabled');
          tries--;
          triesEl.textContent = tries;

          if (tries === 0) {
            status.textContent = 'üò¢ Acabaram as tentativas!';
            rooms.forEach(r => r.classList.add('disabled'));
          }
        }
      });
    });

    restartBtn.addEventListener('click', startRound);

    startRound();
  </script>
</body>
</html>
